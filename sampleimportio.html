<!DOCTYPE html>
<html>
<head>
  <title>Import&bull;io Example</title>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>


<!-- 1. Include the client library -->
  <script src="https://cdn.import.io/js/2.0.0/importio.js"></script>

<!-- 2. Configure the library -->
  <script type="text/javascript">
    importio.init({
      "auth": {
        "userGuid": "604b9513-ab10-47e8-8981-4404f88a08e7",
        "apiKey": "UnR3S37bsOXRx1rSH8Y8NQd87fkyMeNYITAKPBGGASnMES/pEhGoGxzd7/j4u1uIFx7Ob2j9sBvvbSalUZHoxA=="
      },
      "host": "import.io"
    });

    // Data and done callbacks
    var dataCallback = function(data) {
      console.log("Data received", data);
      var link = [];
      for (var j = 0; j < data.length; j++) {
        var e = data[j];
        for (var b in e.data) {
          var i = 0;
          if(b == 'article_link'){
            link.push(e.data[b]);
            i++;
          }
        }
      }
      for (var i = 0; i < data.length; i++) {
  	    var d = data[i];
        var tom = 0;
    		for (var k in d.data) {
          if(k == 'article_image'){
            document.write("<a href="+ link[i] + ">" + "<img src=\'" + d.data[k] + "\'>" + "</a>" + "<br />");  
          }
          else if(k == 'article_heading/_text'){
            document.write("<h2>" + d.data[k] + "</h2>" + "<br />");
          }
    		  else if(k == 'article_image/_alt'){
            document.write();
          }
          else {
            document.write("<p>" + d.data[k] + "</p>" + "<br />");
          }
    		}
    		document.write("<hr>");
  	  }
    }
    var doneCallback = function(data) {
      console.log("Done, all data:", data);
      document.write("<b>Done</b><hr>");
    }

// 3. Do the query (when the function is called)
    $( document ).ready(function() {
      // Query for tile ScrubsMagTopStories
      importio.query({
        "connectorGuids": [
          "d1e451af-3a62-4214-abe3-bd96846ee073"
        ],
        "input": {
          "webpage/url": "http://scrubsmag.com/"
        }
      }, { "data": dataCallback, "done": doneCallback });
      });

  </script>
  <style>body { text-align: center; } button { line-height: 20px; color: #333; text-align: center; text-shadow: 0 1px 1px rgba(255, 255, 255, 0.75); vertical-align: middle; cursor: pointer; border: 1px solid #CCC; -webkit-border-radius: 4px; -moz-border-radius: 4px; border-radius: 4px; filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffffff',endColorstr='#ffe6e6e6',GradientType=0); filter: progid:DXImageTransform.Microsoft.gradient(enabled=false); -webkit-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2),0 1px 2px rgba(0, 0, 0, 0.05); -moz-box-shadow: inset 0 1px 0 rgba(255,255,255,0.2),0 1px 2px rgba(0,0,0,0.05); box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2),0 1px 2px rgba(0, 0, 0, 0.05); outline: 0; padding: 11px 19px; font-size: 17.5px; -webkit-border-radius: 6px; -moz-border-radius: 6px; border-radius: 6px; color: #FFF; text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25); background-color: #EC3C87; background-image: -moz-linear-gradient(top,#EE4E93,#E92076); background-image: -webkit-gradient(linear,0 0,0 100%,from(#EE4E93),to(#E92076)); background-image: -webkit-linear-gradient(top,#EE4E93,#E92076); background-image: -o-linear-gradient(top,#EE4E93,#E92076); background-image: linear-gradient(to bottom,#EE4E93,#E92076); background-repeat: repeat-x; border-color: #E92076 #E92076 #AC1153; border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25); filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffee4e93',endColorstr='#ffe92076',GradientType=0); filter: progid:DXImageTransform.Microsoft.gradient(enabled=false); }</style>
  <body>

  </body>
</html>